---
layout: post
title: ffmpeg skills
---

##1. record screen for education purposes 2018-01-22 15:26 
{% highlight bash %}
ffmpeg -f x11grab -r 1.5 -s 1280x1600 -i :1 -vb 20M out1.avi
{% endhighlight %}

a better version of this would be 
{% highlight bash %}
ffmpeg -f pulse -ac 2 -i default -f x11grab -r 10 -s 1366x768 -i :0.0 -acodec pcm_s16le -vcodec libx264 -preset ultrafast -threads 0 -y output.mkv
{% endhighlight %}

<<<<<<< HEAD
2. extract one frame from a video

ffmpeg -i video.webm -ss 00:00:07.000 -vframes 1 thumb.jpg 

3. output video 
ffmpeg -r 3 -i %05d.png -c:v libx264 -vf fps=25 -pix_fmt yuv420p output.mp4
=======


##2. stitch photo into video

```bash
# sort all the photo by time and name as 000xx.png 
 ls | cat -n | while read n f; do mv "$f" "$(printf "%05d" $n).png"; done
# the framerate means the number of photos displayed per seconds
ffmpeg -framerate 3 -i %05d.png -c:v libx264 -vf "fps=25,format=yuv420p" output.mp4
```
>>>>>>> efe6a984e9506c7d2bea0b704e04586299b79338
